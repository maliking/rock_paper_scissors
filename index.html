<!DOCTYPE HTML>
<html>

<head>
    <script>
        function computerPlay() {
            let computerSelection;
            let randomNumber = Math.floor(Math.random() * 3);

            if (randomNumber === 0) {
                computerSelection = "rock";
            } else if (randomNumber === 1) {
                computerSelection = "scissors";
            } else {
                computerSelection = "paper";
            }
            return computerSelection;
        }

        // function playerPlay() {
        //     let playerSelection = prompt("Type rock, paper or scissors").toLowerCase();
        //     return playerSelection;
        // }

        function upperCase(word) {
            return word.charAt(0).toUpperCase() + word.substring(1);
        }

        // 1 tie
        // 2 computer wins
        // 3 player wins

        function playRound(computerSelection) {
            let playerSelection = prompt("Type rock, paper or scissors").toLowerCase();

            if (playerSelection === computerSelection) {
                console.log(
                    "It's a tie! " +
                    upperCase(playerSelection) +
                    " does not beat " +
                    upperCase(computerSelection)
                );

                return 1;
            } else if (
                (computerSelection === "scissors" && playerSelection === "paper") ||
                (computerSelection === "paper" && playerSelection === "rock") ||
                (computerSelection === "rock" && playerSelection === "scissors")
            ) {
                console.log(
                    "I win! " +
                    upperCase(computerSelection) +
                    " beats " +
                    upperCase(playerSelection)
                );
                return 2;
            } else if (
                (computerSelection === "scissors" && playerSelection === "rock") ||
                (computerSelection === "paper" && playerSelection === "scissors") ||
                (computerSelection === "rock" && playerSelection === "paper")
            ) {
                console.log(
                    "You win! " +
                    upperCase(playerSelection) +
                    " beats " +
                    upperCase(computerSelection)
                );
                return 3;
            } else {
                console.log("Error. Please try again.");
            }
        }

        let computerAnswer = computerPlay();

        function playAgain() {
            let answer = prompt("Do you want to play again? Y or N").toUpperCase();

            if (answer === "Y") {
                return "Y";
            } else if (answer === "N") {
                return "N";
            } else {
                console.log("Please type Y or N. Try again please.");
                return "N";
            }
        }

        function game() {
            let playerScore = 0;
            let computerScore = 0;

            for (i = 1; i < 6; i++) {
                let result = playRound(computerAnswer); // stores either 1, 2, or 3 in result
                let answer = playAgain();

                if (answer === "Y") {
                    if (result === 2) {
                        computerScore++;
                    } else if (result === 3) {
                        playerScore++;
                    } else {

                    }

                    console.log("Round " + i + ":");

                } else if (answer === "N") {
                    break;
                }


            }
            console.log(
                "Computer Score: " + computerScore + " Player Score: " + playerScore
            );
        }

        game();
    </script>
</head>

<body>
    <h1>hi</h1>
</body>

</html>